@page "/"
@inject HttpClient client
@inject ToDoStore store
@using ToDo.Models

<PageTitle>ToDos</PageTitle>

<ToDoAdd onsubmit=@onsubmit></ToDoAdd>
@if(store.Count() != 0){
@foreach (var i in store.getStore())
{
    <ShowToDos Delete=@Delete i=@i></ShowToDos>
}
}else{
    <div>
        Nothing Here!!
    </div>
}




@code {
    [Parameter]
    public ToDoViewModel[]? b { set; get; }

    
    public void Delete(ToDoViewModel i)
    {
        store.Remove(i);
    }
    public void onsubmit(EditContext editContext)
    {
        if (editContext.Validate())
        {
            var q=(ToDoViewModel)editContext.Model;
            store.Add(q);
        }
        
    }

}
